webpackJsonp([27],{RFf3:function(e,a,t){a=e.exports=t("FZ+f")(!1),a.push([e.i,"\n._new {\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  padding: 20px;\n  height: 100%;\n  background: #fff;\n}\n._new .el-form {\n    margin: 30px auto 0;\n    width: 60%;\n}\n._new .avatar-uploader .el-upload {\n    border: 1px dashed #d9d9d9;\n    border-radius: 6px;\n    cursor: pointer;\n    position: relative;\n    overflow: hidden;\n}\n._new .avatar-uploader .el-upload:hover {\n      border-color: #409EFF;\n}\n._new .avatar-uploader-icon {\n    font-size: 28px;\n    color: #8c939d;\n    width: 178px;\n    height: 178px;\n    line-height: 178px;\n    text-align: center;\n}\n._new .avatar {\n    width: 178px;\n    height: 178px;\n    display: block;\n}\n",""])},hUeZ:function(e,a,t){var r=t("RFf3");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);t("rjj0")("1cba76cf",r,!0)},n2sk:function(e,a,t){"use strict";function r(e){t("hUeZ")}Object.defineProperty(a,"__esModule",{value:!0});var l=t("Dd8w"),o=t.n(l),n=t("JZJf"),s=t("NYxO"),i=t("OOMk"),p=i.a.seller.upload,c={data:function(){return{imageUrl:"",uploadUrl:p,validateForm:{price:"",abstract:"",name:"",type:1}}},computed:o()({},Object(s.c)("seller",["sellerInfo"]),Object(s.c)("seller",["foodTypeList"]),{types:function(){return this.foodTypeList.map(function(e){return{label:e.typeDes,value:e.foodTypeId}})}}),methods:{add:function(){},submitForm:function(e){var a=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;if(!a.imageUrl)return a.$message({type:"error",message:"请上传图片"}),!1;var t=a.imageUrl,r=a.sellerInfo.shopId,l=a.validateForm,o=l.name,s=l.price,i=l.abstract,p=l.type;Object(n.a)(r,o,s,p,i,t).then(function(e){1===e.code?(a.$message({type:"success",message:"添加成功!"}),a.$router.push("/seller/menu")):a.$message({type:"error",message:"添加失败!"})})})},handleAvatarSuccess:function(e,a){this.imageUrl=e.data.imageUrl},beforeAvatarUpload:function(e){var a="image/jpeg"===e.type||"image/png"||"image/gif",t=e.size/1024/1024<5;return a||this.$message.error("上传头像图片只能是 JPG 格式!"),t||this.$message.error("上传头像图片大小不能超过 5MB!"),a&&t}}},d=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"_new"},[t("el-form",{ref:"validateForm",staticClass:"demo-ruleForm",attrs:{model:e.validateForm,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"名称",prop:"name",rules:[{required:!0,message:"名称不能为空"}]}},[t("el-input",{attrs:{type:"name","auto-complete":"off"},model:{value:e.validateForm.name,callback:function(a){e.$set(e.validateForm,"name",e._n(a))},expression:"validateForm.name"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"价格",prop:"price",rules:[{required:!0,message:"价格不能为空"}]}},[t("el-input",{attrs:{type:"price","auto-complete":"off"},model:{value:e.validateForm.price,callback:function(a){e.$set(e.validateForm,"price",e._n(a))},expression:"validateForm.price"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"类型",prop:"type",rules:[{required:!0,message:"类型不能为空"}]}},[t("el-select",{attrs:{placeholder:"请选择菜品类型"},model:{value:e.validateForm.type,callback:function(a){e.$set(e.validateForm,"type",a)},expression:"validateForm.type"}},e._l(e.types,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),t("el-form-item",{attrs:{label:"描述",prop:"abstract",rules:[{required:!0,message:"描述不能为空"}]}},[t("el-input",{attrs:{type:"abstract","auto-complete":"off"},model:{value:e.validateForm.abstract,callback:function(a){e.$set(e.validateForm,"abstract",e._n(a))},expression:"validateForm.abstract"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"图片",prop:"imageUrl"}},[t("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.uploadUrl,name:"image","with-credentials":!0,"show-file-list":!1,drag:!0,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.imageUrl?t("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(a){e.submitForm("validateForm")}}},[e._v("提交")])],1)],1)],1)},u=[],m={render:d,staticRenderFns:u},f=m,v=t("VU/8"),b=r,g=v(c,f,!1,b,null,null);a.default=g.exports}});