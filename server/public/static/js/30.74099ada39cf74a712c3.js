webpackJsonp([30],{CAjD:function(e,t,s){"use strict";function n(e){s("kAtw")}Object.defineProperty(t,"__esModule",{value:!0});var a=s("woOf"),o=s.n(a),l=s("CjlA"),r=s("wEuf"),i={components:{searchBox:l.a},data:function(){return{property:"",pageNum:1,pages:1,keyword:"",options:[{label:"商铺id",value:"shopId"},{label:"用户id",value:"userId"},{label:"商铺名称",value:"shopName"}],infoData:[]}},created:function(){this.getShopsList()},methods:{getShopsList:function(){var e=this,t=this.pageNum,s=this.property,n=this.keyword;Object(r.p)(t,s,n).then(function(t){e.infoData=t.data.list,e.pages=t.data.pages,e.pageNum=t.data.pageNum})},freeze:function(e){var t=this;this.$confirm("是否冻结该商铺?","提示",{confirmButtonText:"冻结",cancelButtonText:"取消",type:"info"}).then(function(){Object(r.i)(e.shopId,"freeze").then(function(e){1===e.code?t.$message({type:"success",message:"已冻结"}):t.$message({type:"error",message:"冻结失败"}),t.getShopsList()})}).catch(function(){console.log("取消冻结操作")})},unFreeze:function(e){var t=this;this.$confirm("是否解冻该商铺?","提示",{confirmButtonText:"解冻",cancelButtonText:"取消",type:"info"}).then(function(){Object(r.i)(e.shopId,"unfreeze").then(function(e){1===e.code?t.$message({type:"success",message:"已解冻"}):t.$message({type:"error",message:"解冻失败"}),t.getShopsList()})}).catch(function(){console.log("取消解冻")})},expandChange:function(e){e.expand?e.expand=!1:Object(r.n)(e.shopId).then(function(t){e=o()(e,t.data),e.expand=!0})},changePage:function(e){this.pageNum=e,this.getShopsList()},search:function(e){this.keyword=e,this.pageNum=1,this.getShopsList()}}},p=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"shops"},[s("div",{staticClass:"header"},[s("el-select",{attrs:{placeholder:"筛选"},model:{value:e.property,callback:function(t){e.property=t},expression:"property"}},e._l(e.options,function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),e._v(" "),s("search-box",{staticClass:"searchBox",on:{search:e.search}})],1),e._v(" "),s("div",{staticClass:"content"},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.infoData},on:{"expand-change":e.expandChange}},[s("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[s("el-form-item",{attrs:{label:"商品名称"}},[e._v("\n              :"),s("span",[e._v(e._s(t.row.shopName))])]),e._v(" "),s("el-form-item",{attrs:{label:"店铺id"}},[e._v("\n              :"),s("span",[e._v(e._s(t.row.shopId))])]),e._v(" "),s("el-form-item",{attrs:{label:"用户id"}},[e._v("\n              :"),s("span",[e._v(e._s(t.row.userId))])]),e._v(" "),s("el-form-item",{attrs:{label:"店铺地址"}},[e._v("\n              :"),s("span",[e._v(e._s(t.row.address))])]),e._v(" "),s("el-form-item",{attrs:{label:"简介"}},[e._v("\n              :"),s("span",[e._v(e._s(t.row.shopAbstract))])]),e._v(" "),s("el-form-item",{attrs:{label:"公告"}},[e._v("\n              :"),s("span",[e._v(e._s(t.row.shopAnnouncement))])]),e._v(" "),s("el-form-item",{attrs:{label:"商铺状态"}},[e._v("\n              :"),s("span",[e._v(e._s(t.row.shopStatus))])]),e._v(" "),s("br"),e._v(" "),s("el-form-item",{attrs:{label:"商铺电话"}},[e._v("\n              :"),s("span",[e._v(e._s(t.row.shopPhone))])]),e._v(" "),s("el-form-item",{attrs:{label:"营业时间"}},[e._v("\n              :"),s("span",[e._v(e._s(t.row.shopWorkTime))])]),e._v(" "),s("el-form-item",{attrs:{label:"配送费"}},[e._v("\n              :"),s("span",[e._v(e._s(t.row.shopDeliveryCost))])]),e._v(" "),s("el-form-item",{attrs:{label:"起送价"}},[e._v("\n              :"),s("span",[e._v(e._s(t.row.shopStartDelivery))])]),e._v(" "),s("el-form-item",{attrs:{label:"经度"}},[e._v("\n              :"),s("span",[e._v(e._s(t.row.shopLongitude))])]),e._v(" "),s("el-form-item",{attrs:{label:"纬度"}},[e._v("\n              :"),s("span",[e._v(e._s(t.row.shopLatitude))])]),e._v(" "),s("br"),e._v(" "),s("el-form-item",{attrs:{label:"门面照"}},[e._v("\n              :"),s("span",[s("img",{attrs:{src:t.row.shopStores_images,width:"50",height:"50"}})])]),e._v(" "),s("el-form-item",{attrs:{label:"简介照"}},[e._v("\n              :"),s("span",[s("img",{attrs:{src:t.row.shopDetail_images,width:"50",height:"50"}})])])],1)]}}])}),e._v(" "),s("el-table-column",{attrs:{prop:"shopId",label:"商铺id",width:"180"}}),e._v(" "),s("el-table-column",{attrs:{prop:"shopName",label:"商品名称",width:"180"}}),e._v(" "),s("el-table-column",{attrs:{prop:"shopPhone",label:"联系电话"}}),e._v(" "),s("el-table-column",{attrs:{prop:"shopLocation",label:"地址"}}),e._v(" "),s("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(s){e.freeze(t.row)}}},[e._v("冻结")]),e._v(" "),s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(s){e.unFreeze(t.row)}}},[e._v("解冻")])]}}])})],1)],1),e._v(" "),s("el-pagination",{attrs:{layout:"prev, pager, next","page-count":e.pages},on:{"current-change":e.changePage}})],1)},c=[],h={render:p,staticRenderFns:c},u=h,_=s("VU/8"),v=n,m=_(i,u,!1,v,null,null);t.default=m.exports},hDj2:function(e,t,s){t=e.exports=s("FZ+f")(!1),t.push([e.i,"\n.shops {\n  background: #fff;\n  height: 100%;\n  padding: 20px;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n}\n.shops .searchBox {\n    display: inline-block;\n}\n.shops .el-select {\n    width: 100px;\n    vertical-align: top;\n}\n.shops .el-select .el-input input {\n    height: 37px;\n}\n.shops .content {\n    margin: 30px auto;\n}\n",""])},kAtw:function(e,t,s){var n=s("hDj2");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);s("rjj0")("44c0eb58",n,!0)}});